<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="description" content="Statistical skills for Biologists">
<title>Appendix A — R Basics – 5027A</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./projects.html" rel="next">
<link href="./11-regression.html" rel="prev">
<link href="./images/logos/logo.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css">
<link rel="stylesheet" href="include/booktem.css">
<link rel="stylesheet" href="include/webex.css">
<link rel="stylesheet" href="include/glossary.css">
<link rel="stylesheet" href="include/style.css">
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./r-basics.html">Appendices</a></li><li class="breadcrumb-item"><a href="./r-basics.html"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">R Basics</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">5027A</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-penguin-project.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Meet the Penguins</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-dplyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data cleaning</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-data-bias.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data bias</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-data-insights.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data insights</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-inferential-statistics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Inferential statistics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-linear-models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Linear models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-paired-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Paired tests</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Regression</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r-basics.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">R Basics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./projects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Project workflows</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tidy-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Tidy data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#using-posit-cloud" id="toc-using-posit-cloud" class="nav-link active" data-scroll-target="#using-posit-cloud"><span class="header-section-number">A.1</span> Using Posit cloud</a></li>
  <li>
<a href="#getting-to-know-rstudio" id="toc-getting-to-know-rstudio" class="nav-link" data-scroll-target="#getting-to-know-rstudio"><span class="header-section-number">A.2</span> Getting to know RStudio</a>
  <ul class="collapse">
<li><a href="#consoles-vs.-scripts" id="toc-consoles-vs.-scripts" class="nav-link" data-scroll-target="#consoles-vs.-scripts"><span class="header-section-number">A.2.1</span> Consoles vs.&nbsp;scripts</a></li>
  <li><a href="#environment" id="toc-environment" class="nav-link" data-scroll-target="#environment"><span class="header-section-number">A.2.2</span> Environment</a></li>
  <li><a href="#plots-files-packages-help" id="toc-plots-files-packages-help" class="nav-link" data-scroll-target="#plots-files-packages-help"><span class="header-section-number">A.2.3</span> Plots, files, packages, help</a></li>
  <li><a href="#make-rstudio-your-own" id="toc-make-rstudio-your-own" class="nav-link" data-scroll-target="#make-rstudio-your-own"><span class="header-section-number">A.2.4</span> Make RStudio your own</a></li>
  </ul>
</li>
  <li><a href="#get-help" id="toc-get-help" class="nav-link" data-scroll-target="#get-help"><span class="header-section-number">A.3</span> Get Help!</a></li>
  <li><a href="#r" id="toc-r" class="nav-link" data-scroll-target="#r"><span class="header-section-number">A.4</span> R</a></li>
  <li>
<a href="#your-first-r-command" id="toc-your-first-r-command" class="nav-link" data-scroll-target="#your-first-r-command"><span class="header-section-number">A.5</span> Your first R command</a>
  <ul class="collapse">
<li><a href="#operators" id="toc-operators" class="nav-link" data-scroll-target="#operators"><span class="header-section-number">A.5.1</span> Operators</a></li>
  <li><a href="#typos" id="toc-typos" class="nav-link" data-scroll-target="#typos"><span class="header-section-number">A.5.2</span> Typos</a></li>
  <li><a href="#more-simple-arithmetic" id="toc-more-simple-arithmetic" class="nav-link" data-scroll-target="#more-simple-arithmetic"><span class="header-section-number">A.5.3</span> More simple arithmetic</a></li>
  <li><a href="#try-some-simple-maths" id="toc-try-some-simple-maths" class="nav-link" data-scroll-target="#try-some-simple-maths"><span class="header-section-number">A.5.4</span> Try some simple maths</a></li>
  <li><a href="#perform-some-combos" id="toc-perform-some-combos" class="nav-link" data-scroll-target="#perform-some-combos"><span class="header-section-number">A.5.5</span> Perform some combos</a></li>
  </ul>
</li>
  <li>
<a href="#true-or-false-data" id="toc-true-or-false-data" class="nav-link" data-scroll-target="#true-or-false-data"><span class="header-section-number">A.6</span> “TRUE or FALSE” data</a>
  <ul class="collapse">
<li><a href="#assessing-mathematical-truths" id="toc-assessing-mathematical-truths" class="nav-link" data-scroll-target="#assessing-mathematical-truths"><span class="header-section-number">A.6.1</span> Assessing mathematical truths</a></li>
  </ul>
</li>
  <li>
<a href="#storing-outputs" id="toc-storing-outputs" class="nav-link" data-scroll-target="#storing-outputs"><span class="header-section-number">A.7</span> Storing outputs</a>
  <ul class="collapse">
<li><a href="#choosing-names" id="toc-choosing-names" class="nav-link" data-scroll-target="#choosing-names"><span class="header-section-number">A.7.1</span> Choosing names</a></li>
  </ul>
</li>
  <li>
<a href="#r-objects" id="toc-r-objects" class="nav-link" data-scroll-target="#r-objects"><span class="header-section-number">A.8</span> R objects</a>
  <ul class="collapse">
<li><a href="#numbers" id="toc-numbers" class="nav-link" data-scroll-target="#numbers"><span class="header-section-number">A.8.1</span> Numbers</a></li>
  </ul>
</li>
  <li><a href="#attributes" id="toc-attributes" class="nav-link" data-scroll-target="#attributes"><span class="header-section-number">A.9</span> Attributes</a></li>
  <li>
<a href="#vectors" id="toc-vectors" class="nav-link" data-scroll-target="#vectors"><span class="header-section-number">A.10</span> Vectors</a>
  <ul class="collapse">
<li><a href="#coercion" id="toc-coercion" class="nav-link" data-scroll-target="#coercion"><span class="header-section-number">A.10.1</span> Coercion</a></li>
  <li><a href="#task" id="toc-task" class="nav-link" data-scroll-target="#task"><span class="header-section-number">A.10.2</span> Task</a></li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./r-basics.html">Appendices</a></li><li class="breadcrumb-item"><a href="./r-basics.html"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">R Basics</span></a></li></ol></nav><div class="quarto-title">
<h1 class="title"><span id="sec-basicr" class="quarto-section-identifier">Appendix A — R Basics</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><ul>
<li><p>R is the name of the programming language we will learn on this course.</p></li>
<li><p>RStudio is a convenient interface which we will be using throughout the course in order to learn how to organise data, produce accurate data analyses &amp; data visualisations.</p></li>
</ul>
<p>R is a programming language that you will write code in, and RStudio is an Integrated Development Environment (IDE) which makes working with R easier. Think of it as knowing English and using a plain text editor like NotePad to write a book versus using a word processor like Microsoft Word. You could do it, but it wouldn’t look as good and it would be much harder without things like spell-checking and formatting. In a similar way, you can use R without R Studio but we wouldn’t recommend it. The key thing to remember is that although you will do all of your work using RStudio for this course, you are actually using <strong>two</strong> pieces of software which means that from time-to-time, both of them may have separate updates.</p>
<p>R and RStudio can be downloaded for free onto your <a href="https://www.rstudio.com/products/rstudio/">personal computers</a>(see Appendices), but for convenience we will use a classroom space on <strong>Posit cloud</strong>.</p>
<p><a href="https://rstudio.cloud/">Posit cloud</a> is a cloud-based service where we can log into remotely hosted servers that host our data analysis projects.</p>
<p>The advantage of using Posit cloud is that all the extra packages and functions you need for this course will already be installed. You can log-in to your workspace from any computer as long as you have an internet connection and remember you username and password. I can also “visit” your projects and help out when you get stuck, if they are hosted on Posit cloud.</p>
<p>Eventually we will may also add extra tools like GitHub and RMarkdown for data reproducibility, literate and collaborative programming.</p>
<p>By the end of this course I hope you will have the tools to confidently analyze real data, make informative and beautiful data visuals, and be able to analyze lots of different types of data.</p>
<section id="using-posit-cloud" class="level2" data-number="A.1"><h2 data-number="A.1" class="anchored" data-anchor-id="using-posit-cloud">
<span class="header-section-number">A.1</span> Using Posit cloud</h2>
<p>All of our sessions will run on cloud-based software. All you have to do is make a free account, and join our Workspace.</p>
<p>Once you are signed up - you will see that there are two spaces:</p>
<ul>
<li><p>Your workspace - for personal use (20hrs/month)</p></li>
<li><p>Our shared classroom - educational licence (no limit)</p></li>
</ul>
<p>Make sure you are working in the classroom workspace - so that I can distribute project work and ‘visit’ your projects if needed.</p>
<p>Posit cloud works in exactly the same way as RStudio, but means you don’t have to download any software. You can access the hosted cloud server and your projects through any browser connection (Chrome works best), from any computer.</p>
<p>Here is a good reference guide to <a href="https://rstudio.cloud/learn/guide#projects">Posit cloud</a></p>
</section><section id="getting-to-know-rstudio" class="level2" data-number="A.2"><h2 data-number="A.2" class="anchored" data-anchor-id="getting-to-know-rstudio">
<span class="header-section-number">A.2</span> Getting to know RStudio</h2>
<p>R Studio has a console that you can try out code in (appearing as the bottom left window), there is a script editor (top left), a window showing functions and objects you have created in the “Environment” tab (top right window in the figure), and a window that shows plots, files packages, and help documentation (bottom right).</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/rstudio.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>RStudio interface</figcaption></figure>
</div>
</div>
</div>
<p>You will learn more about how to use the features included in R Studio throughout this course, however, I highly recommend watching <a href="https://rstudio.com/resources/webinars/programming-part-1-writing-code-in-rstudio/">RStudio Essentials 1</a> at some point.</p>
<p>The video lasts ~30 minutes and gives a tour of the main parts of R Studio.</p>
<section id="consoles-vs.-scripts" class="level3" data-number="A.2.1"><h3 data-number="A.2.1" class="anchored" data-anchor-id="consoles-vs.-scripts">
<span class="header-section-number">A.2.1</span> Consoles vs.&nbsp;scripts</h3>
<ul>
<li><p>The <em>script</em> window is the place to enter and run code so that it is easily edited and saved for future use. Usually the Script Window is shown at the top left in RStudio. If this window is not shown, it will be visible <em>if</em> you open a previously saved R script, <em>or</em> if you create a new R Script. You create new R Script by clicking on File &gt; New File &gt; R Script in the RStudio menu bar.</p></li>
<li><p>To execute your code in the R script, you can either highlight the code and click on Run, or you can highlight the code and press CTRL + Enter on your keyboard.</p></li>
<li><p>The <em>console</em>: you can enter code directly in the Console Window and click Enter. The commands that you run will be shown in the History Window on the top right of RStudio. Though it is much more difficult to keep track of your work this way.</p></li>
</ul></section><section id="environment" class="level3" data-number="A.2.2"><h3 data-number="A.2.2" class="anchored" data-anchor-id="environment">
<span class="header-section-number">A.2.2</span> Environment</h3>
<p>The Environment tab (top right) allows you to see what objects are in the workspace. If you create variables or data frames, you have a visual listing of everything in the current workspace. When you start a new project this should be completely empty.</p>
</section><section id="plots-files-packages-help" class="level3" data-number="A.2.3"><h3 data-number="A.2.3" class="anchored" data-anchor-id="plots-files-packages-help">
<span class="header-section-number">A.2.3</span> Plots, files, packages, help</h3>
<ol type="1">
<li><p>Plots - The Plots panel, shows all your plots. There are buttons for opening the plot in a separate window and exporting the plot as a pdf or jpeg (though you can also do this with code.)</p></li>
<li><p>Files - The files panel gives you access to the file directory on your hard drive.</p></li>
<li><p>Packages - Shows a list of all the R packages installed on your harddrive and indicates whether or not they are currently loaded. Packages that are loaded in the current session are checked while those that are installed but not yet loaded are unchecked. We will discuss packages more later.</p></li>
<li><p>Help - Help menu for R functions. You can either type the name of a function in the search window, or use the code to search for a function with the name</p></li>
</ol>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/RStudio_Screenshot_Labels.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>RStudio interface labelled</figcaption></figure>
</div>
</div>
</div>
</section><section id="make-rstudio-your-own" class="level3" data-number="A.2.4"><h3 data-number="A.2.4" class="anchored" data-anchor-id="make-rstudio-your-own">
<span class="header-section-number">A.2.4</span> Make RStudio your own</h3>
<p>You can <a href="https://support.rstudio.com/hc/en-us/articles/115011846747-Using-Themes-in-the-RStudio-IDE">personalise the RStudio GUI</a> as much as you like.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/dark_mode.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/classic_mode.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></p>
</figure>
</div>
</div>
</div>
</section></section><section id="get-help" class="level2" data-number="A.3"><h2 data-number="A.3" class="anchored" data-anchor-id="get-help">
<span class="header-section-number">A.3</span> Get Help!</h2>
<p>There are a lot of sources of information about using R out there. Here are a few helpful places to get help when you have an issue, or just to learn more</p>
<ul>
<li><p>The R help system itself - type <code><a href="https://rdrr.io/r/utils/help.html">help()</a></code> and put the name of the package or function you are querying inside the brackets</p></li>
<li><p>Vignettes - type <code><a href="https://rdrr.io/r/utils/browseVignettes.html">browseVignettes()</a></code> into the console and hit Enter, a list of available vignettes for all the packages we have will be displayed</p></li>
<li><p>Cheat Sheets - available at <a href="https://www.rstudio.com/resources/cheatsheets/">RStudio.com.</a> Most common packages have an associate cheat sheet covering the basics of how to use them. Download/bookmark ones we will use commonly such as ggplot2, data transformation with dplyr, Data tidying with tidyr &amp; Data import.</p></li>
<li><p>Google - I use Google constantly, because I continually forget how to do even basic tasks. If I want to remind myself how to round a number, I might type something like R round number - if I am using a particular package I should include that in the search term as well</p></li>
<li><p>Ask for help - If you are stuck, getting an error message, can’t think what to do next, then ask someone. It could be me, it could be a classmate. When you do this it is very important that you show the code, include the error message. “This doesn’t work” is not helpful. “Here is my code, this is the data I am using, I want it to do X, and here’s the problem I get.”</p></li>
</ul>
<div class="cell" data-layout-align="center" type="info">
<div class="info">
<p>
It may be daunting to send your code to someone for help.
</p>
<p>
It is natural and common to feel apprehensive, or to think that your code is really bad. I still feel the same! But we learn when we share our mistakes, and eventually you will find it funny when you look back on your early mistakes, or laugh about the mistakes you still occasionally make!
</p>
</div>
</div>
</section><section id="r" class="level2" data-number="A.4"><h2 data-number="A.4" class="anchored" data-anchor-id="r">
<span class="header-section-number">A.4</span> R</h2>
<p>Go to Posit cloud and enter the Project labelled <code>Day One</code> - this will clone the project and provide you with your own project workspace.</p>
<p>Follow the instructions below to get used to the R command line, and how R works as a language.</p>
</section><section id="your-first-r-command" class="level2" data-number="A.5"><h2 data-number="A.5" class="anchored" data-anchor-id="your-first-r-command">
<span class="header-section-number">A.5</span> Your first R command</h2>
<p>In the RStudio pane, navigate to the <strong>console</strong> (bottom left) and <code>type or copy</code> the below it should appear at the &gt;</p>
<p>Hit Enter on your keyboard.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="dv">10</span> <span class="sc">+</span> <span class="dv">20</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>What answer did you get?</li>
</ul>
<div class="webex-solution">
<button>
Solution
</button>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="dv">30</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>The first line shows the request you made to R, the next line is R’s response</p>
<p>You didn’t type the <code>&gt;</code> symbol: that’s just the R command prompt and isn’t part of the actual command.</p>
<p>When a complete expression is entered at the prompt, it is evaluated and the result of the evaluated expression is returned. The result may be auto-printed.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">print</span>(<span class="dv">10</span> <span class="sc">+</span> <span class="dv">20</span>) <span class="do">## explicit printing</span></span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="dv">10</span> <span class="sc">+</span> <span class="dv">20</span> <span class="do">## autoprinting</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Usually, with interactive work, we do not explicitly print objects with the print function; it is much easier to auto-print them by typing the name of the object and hitting return/enter. However, when writing scripts, functions, or more extended programs, there is sometimes a need to explicitly print objects.</p>
<p>When an R vector is printed, you will notice that an index for the vector is printed in square brackets <code>[]</code> on the side. For example, see this integer sequence</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">30</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
[26] 26 27 28 29 30</code></pre>
</div>
</div>
<p>The numbers in the square brackets are not part of the vector itself; they are merely part of the printed output.</p>
<blockquote class="blockquote">
<p>Note that the : operator is used to create integer sequences</p>
</blockquote>
<section id="operators" class="level3" data-number="A.5.1"><h3 data-number="A.5.1" class="anchored" data-anchor-id="operators">
<span class="header-section-number">A.5.1</span> Operators</h3>
<p>There are a few different types of operators to consider in R</p>
<section id="assignment-operator" class="level4" data-number="A.5.1.1"><h4 data-number="A.5.1.1" class="anchored" data-anchor-id="assignment-operator">
<span class="header-section-number">A.5.1.1</span> Assignment Operator</h4>
<table class="caption-top table">
<thead><tr class="header">
<th>Operator</th>
<th>Description</th>
</tr></thead>
<tbody><tr class="odd">
<td>&lt;-</td>
<td>used to assign values to variables</td>
</tr></tbody>
</table></section><section id="arithmetic-operators" class="level4" data-number="A.5.1.2"><h4 data-number="A.5.1.2" class="anchored" data-anchor-id="arithmetic-operators">
<span class="header-section-number">A.5.1.2</span> Arithmetic Operators</h4>
<table class="caption-top table">
<thead><tr class="header">
<th>Operator</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>+</td>
<td>addition</td>
</tr>
<tr class="even">
<td>-</td>
<td>subtraction</td>
</tr>
<tr class="odd">
<td>*</td>
<td>multiplication</td>
</tr>
<tr class="even">
<td>/</td>
<td>division</td>
</tr>
<tr class="odd">
<td>^</td>
<td>exponentiation</td>
</tr>
</tbody>
</table></section><section id="relational-operators" class="level4" data-number="A.5.1.3"><h4 data-number="A.5.1.3" class="anchored" data-anchor-id="relational-operators">
<span class="header-section-number">A.5.1.3</span> Relational Operators</h4>
<table class="caption-top table">
<thead><tr class="header">
<th>Operator</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>&lt;</td>
<td>less than</td>
</tr>
<tr class="even">
<td>&lt;=</td>
<td>less than or equal to</td>
</tr>
<tr class="odd">
<td>&gt;</td>
<td>greater than</td>
</tr>
<tr class="even">
<td>&gt;=</td>
<td>greater than or equal to</td>
</tr>
<tr class="odd">
<td>==</td>
<td>exactly equal to</td>
</tr>
<tr class="even">
<td>!=</td>
<td>not equal to</td>
</tr>
</tbody>
</table></section><section id="logical-operators" class="level4" data-number="A.5.1.4"><h4 data-number="A.5.1.4" class="anchored" data-anchor-id="logical-operators">
<span class="header-section-number">A.5.1.4</span> Logical Operators</h4>
<table class="caption-top table">
<thead><tr class="header">
<th>Operator</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>!</td>
<td>not</td>
</tr>
<tr class="even">
<td>&amp;</td>
<td>AND</td>
</tr>
<tr class="odd">
<td>⎮</td>
<td>OR</td>
</tr>
</tbody>
</table></section><section id="membership-operators" class="level4" data-number="A.5.1.5"><h4 data-number="A.5.1.5" class="anchored" data-anchor-id="membership-operators">
<span class="header-section-number">A.5.1.5</span> Membership Operators</h4>
<table class="caption-top table">
<thead><tr class="header">
<th>Operator</th>
<th>Description</th>
</tr></thead>
<tbody><tr class="odd">
<td>%in%</td>
<td>used to check if an element is in a vector or list</td>
</tr></tbody>
</table></section></section><section id="typos" class="level3" data-number="A.5.2"><h3 data-number="A.5.2" class="anchored" data-anchor-id="typos">
<span class="header-section-number">A.5.2</span> Typos</h3>
<div class="cell" data-layout-align="center" type="warning">
<div class="warning">
<p>
Before we go on to talk about other types of calculations that we can do with R, there’s a few other things I want to point out. The first thing is that, while R is good software, it’s still software. It’s pretty stupid, and because it’s stupid it can’t handle typos. It takes it on faith that you meant to type exactly what you did type.
</p>
</div>
</div>
<p>Suppose you forget to hit the shift key when trying to type <code>+</code>, and as a result your command ended up being <code>10 = 20</code> rather than <code>10 + 20</code>. Try it for yourself and replicate this error message:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="dv">10</span> <span class="ot">=</span> <span class="dv">20</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="webex-solution">
<button>
What answer did you get?
</button>
<div class="cell" data-layout-align="center">
<p>Error in 10 = 20 : invalid (do_set) left-hand side to assignment</p>
</div>
</div>
<p>What’s going on: R tries to interpret <code>10 = 20</code> as a command, but it doesn’t make sense, so it gives you an error message.</p>
<p>When a person sees this, they might realize it’s a typo because the <code>+</code> and <code>=</code> keys are right next to each other on the keyboard. But R doesn’t have that insight, so it just gets confused.</p>
<p>What’s even trickier is that some typos won’t create errors because they accidentally form valid R commands. For example, if I meant to type <code>10 + 20</code> but mistakenly pressed a neighboring key, I’d end up with <code>10 - 20</code>. Now, R can’t read your mind to know you wanted to add, not subtract, so something different happens:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="dv">10</span> <span class="sc">-</span> <span class="dv">20</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -10</code></pre>
</div>
</div>
<p>In this case, R produces the right answer, but to the the wrong question.</p>
</section><section id="more-simple-arithmetic" class="level3" data-number="A.5.3"><h3 data-number="A.5.3" class="anchored" data-anchor-id="more-simple-arithmetic">
<span class="header-section-number">A.5.3</span> More simple arithmetic</h3>
<p>One of the best ways to get familiar with R is to experiment with it. The good news is that it’s quite hard to mess things up, so don’t stress too much. Just type whatever you like into the console and see what happens.</p>
<p>Now, if your console’s last line looks like this:</p>
<pre><code>&gt; 10+
+ </code></pre>
<p>And there’s a <em>blinking cursor</em> next to that plus sign, it means R is patiently waiting for you to complete your command. It believes you’re still typing, so it hasn’t tried to run anything yet. This plus sign is a bit different from the usual prompt (the <code>&gt;</code> symbol). It’s there to nudge you that R is ready to “add” what you’re typing now to what you typed before. For example, type <code>20</code> and hit enter, and then R will complete the command like this:</p>
<pre><code>&gt; 10 +
+ 20
[1] 30</code></pre>
<p><em>Alternatively</em> hit the escape key, and R will forget what you were trying to do and return to a blank line.</p>
</section><section id="try-some-simple-maths" class="level3" data-number="A.5.4"><h3 data-number="A.5.4" class="anchored" data-anchor-id="try-some-simple-maths">
<span class="header-section-number">A.5.4</span> Try some simple maths</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="dv">1</span><span class="sc">+</span><span class="dv">7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="dv">13-10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="dv">4</span><span class="sc">*</span><span class="dv">6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="dv">12</span><span class="sc">/</span><span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Raise a number to the power of another</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="dv">5</span><span class="sc">^</span><span class="dv">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Multiplying a number <span class="math inline">\(x\)</span> by itself <span class="math inline">\(n\)</span> times is called “raising <span class="math inline">\(x\)</span> to the <span class="math inline">\(n\)</span>-th power”. Mathematically, this is written as <span class="math inline">\(x^n\)</span>. Some values of <span class="math inline">\(n\)</span> have special names: in particular <span class="math inline">\(x^2\)</span> is called <span class="math inline">\(x\)</span>-squared, and <span class="math inline">\(x^3\)</span> is called <span class="math inline">\(x\)</span>-cubed. So, the 4th power of 5 is calculated like this:</p>
<p><span class="math display">\[5^4 = 5 \times 5 \times 5 \times 5 \]</span></p>
</section><section id="perform-some-combos" class="level3" data-number="A.5.5"><h3 data-number="A.5.5" class="anchored" data-anchor-id="perform-some-combos">
<span class="header-section-number">A.5.5</span> Perform some combos</h3>
<p>R follows the standard order of operations (BODMAS/BIDMAS), which means it first calculates within brackets, then deals with exponents, followed by division and multiplication, and finally addition and subtraction.</p>
<p>Let’s look at two examples to see how the order of operations affects the results:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="dv">3</span><span class="sc">^</span><span class="dv">2-5</span><span class="sc">/</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>(<span class="dv">3</span><span class="sc">^</span><span class="dv">2-5</span>)<span class="sc">/</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Similarly if we want to raise a number to a fraction, we need to surround the fraction with parentheses <code>()</code></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="dv">16</span><span class="sc">^</span><span class="dv">1</span><span class="sc">/</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="dv">16</span><span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The first one calculates 16 raised to the power of 1, then divided this answer by two. The second one raises 16 to the power of a half. A big difference in the output.</p>
<div class="cell" data-layout-align="center" type="info">
<div class="info">
<p>
While the cursor is in the console, you can press the up arrow to see all your previous commands.
</p>
<p>
You can run them again, or edit them. Later on we will look at scripts, as an essential way to re-use, store and edit commands.
</p>
</div>
</div>
</section></section><section id="true-or-false-data" class="level2" data-number="A.6"><h2 data-number="A.6" class="anchored" data-anchor-id="true-or-false-data">
<span class="header-section-number">A.6</span> “TRUE or FALSE” data</h2>
<p>Time to make a sidebar onto another kind of data. Many concepts in programming rely on the idea of a <strong><em>logical value</em></strong>. A logical value is an assertion about whether something is true or false. This is implemented in R in a pretty straightforward way. There are two logical values, namely <code>TRUE</code> and <code>FALSE</code>. Despite the simplicity, logical values are very useful things. Let’s see how they work.</p>
<section id="assessing-mathematical-truths" class="level3" data-number="A.6.1"><h3 data-number="A.6.1" class="anchored" data-anchor-id="assessing-mathematical-truths">
<span class="header-section-number">A.6.1</span> Assessing mathematical truths</h3>
<p>Time to explore a different kind of data. In programming, many concepts rely on logical values. A logical value is a statement about whether something is true or false. In R, this is pretty straightforward. There are two logical values: <code>TRUE</code> and <code>FALSE</code>. Despite their simplicity, these logical values are incredibly useful. Let’s dive into how they work.</p>
<p>In R, basic mathematics is solid, and there’s no room for manipulation. When you ask R to calculate <code>2 + 2</code>, it always provides the same answer,</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
<p>up to this point, R has been performing calculations without explicitly asserting whether <span class="math inline">\(2 + 2 = 4\)</span> is a true statement. If I want R to make an explicit judgment, I can use a command like this:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="cell" data-layout-align="center">
<p>TRUE</p>
</div>
</div>
<p>What I’ve done here is use the <strong><em>equality operator</em></strong>, <code>==</code>, to force R to make a “true or false” judgement.</p>
<div class="cell" data-layout-align="center" type="warning">
<div class="warning">
<p>
This is a very different operator to the assignment operator <code>=</code> you saw previously.
</p>
<p>
A common typo that people make when trying to write logical commands in R (or other languages, since the “<code>=</code> versus <code>==</code>” distinction is important in most programming languages) is to accidentally type <code>=</code> when you really mean <code>==</code>.
</p>
</div>
</div>
<p>Okay, let’s see what R thinks of <code>2 +2 ==5</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="dv">2</span><span class="sc">+</span><span class="dv">2</span> <span class="sc">==</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>Now, let’s see what happens when I attempt to make R believe that two plus two equals five by using an assignment statement like <code>2 + 2 = 5</code> or <code>2 + 2 &lt;- 5</code>. Here’s the outcome:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span> <span class="ot">=</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>Error in 2 + 2 = 5 : target of assignment expands to non-language object</code></pre>
<p>Indeed, R isn’t too fond of this idea. It quickly realizes that <code>2 + 2</code> is not a variable (that’s what the “non-language object” part is saying), and it refuses to let you “reassign” it. While R can be quite flexible and allows you to do some remarkable things to redefine parts of itself, there are fundamental truths it simply won’t budge on. It won’t tamper with the laws of addition, and it won’t redefine the number <code>2</code>.</p>
<p>That’s probably for the best.</p>
</section></section><section id="storing-outputs" class="level2" data-number="A.7"><h2 data-number="A.7" class="anchored" data-anchor-id="storing-outputs">
<span class="header-section-number">A.7</span> Storing outputs</h2>
<p>When dealing with more complex questions, it’s often helpful to store our answers and use them in later steps. Fortunately, this is quite easy to do in R. We can assign the results to a name with the <strong>assignment operator</strong>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">+</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This literally means please <em>assign</em> the value of <code>1+2</code> to the name <code>a</code>. We use the <strong>assignment operator</strong> <code>&lt;-</code> to make this assignment.</p>
<div class="cell" data-layout-align="center" type="info">
<div class="info">
<p>
Note the shortcut key for &lt;- is Alt + - (Windows) or Option + - (Mac)
</p>
</div>
</div>
<p>By performing this action, you’ll achieve two things:</p>
<p>You will notice in the top right-hand pane within the <strong>Environment</strong> tab that there is now an <strong>object</strong> labeled a with a value of <code>3</code>.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/environment.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>object a is now visible withe a value of 3 in the Environment Pane</figcaption></figure>
</div>
</div>
</div>
<ul>
<li><p>You can check what the variable a contains by typing it into your Console and pressing Enter.</p></li>
<li><p>Keep in mind that you won’t see the result of your operations until you type the object into the R console and press Enter.</p></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>a  <span class="do">## autoprinting</span></span>
<span id="cb28-2"><a href="#cb28-2"></a></span>
<span id="cb28-3"><a href="#cb28-3"></a><span class="fu">print</span>(a) <span class="do">## explicit printing</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="webex-solution">
<button>
What output do you get when you type a into your console?
</button>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>You can now call this object at <em>any time</em> during your R session and perform calculations with it.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="dv">2</span> <span class="sc">*</span> a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="dv">6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>What happens if we assign a value to a named object that <strong>already</strong> exists in our R environment??? for example</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>a <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb32-2"><a href="#cb32-2"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The value of <code>a</code> is now 10.</p>
<p>You should see that the previous assignment is lost, <em>gone forever</em> and has been replaced by the new value.</p>
<p>We can assign lots of things to objects, and use them in calculations to build more objects.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>b <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb33-2"><a href="#cb33-2"></a>c <span class="ot">&lt;-</span> a <span class="sc">+</span> b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center" type="warning">
<div class="warning">
<p>
Remember: If you now change the value of b, the value of c does <em>not</em> change.
</p>
<p>
Objects are totally <strong>independent</strong> from each other once they are made.
</p>
<p>
Overwriting objects with new values means the old value is lost.
</p>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a>b <span class="ot">&lt;-</span> <span class="dv">7</span></span>
<span id="cb34-2"><a href="#cb34-2"></a>b</span>
<span id="cb34-3"><a href="#cb34-3"></a>c</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>What is the value of <code>c</code>?</li>
</ul>
<div class="webex-solution">
<button>
What is the value of c ?
</button>
<div class="cell" data-layout-align="center">
<p>[1] 15</p>
</div>
<p>When <code>c</code> was created it was a product of <code>a</code> and <code>b</code> having values of 10 and 15 respectively. If we re-ran the command <code>c &lt;- a + b</code> <em>after</em> changing the value of <code>b</code> <strong>then</strong> we would get a value of 17.</p>
</div>
<p>Look at the environment tab again - you should see it’s starting to fill up now!</p>
<div class="cell" data-layout-align="center" type="info">
<div class="info">
<p>
RStudio will by default save the objects in its memory when you close a session.
</p>
<p>
These will then be there the next time you logon. It might seem nice to be able to close things down and pick up where you left off, but its actually quite dangerous. It’s messy, and can cause lots of problems when we work with scripts later, so don’t do this!
</p>
<p>
To stop RStudio from saving objects by default go to Tools &gt; Project Options option and change “Save workspace to .RData on exit” to “No” or “Never”.
</p>
<p>
Instead we are going to learn how to use scripts to quickly re-run analyses we have been working on.
</p>
</div>
</div>
<section id="choosing-names" class="level3" data-number="A.7.1"><h3 data-number="A.7.1" class="anchored" data-anchor-id="choosing-names">
<span class="header-section-number">A.7.1</span> Choosing names</h3>
<ul>
<li><p>Use informative variable names. As a general rule, using meaningful names like <code>orange</code> and <code>apple</code> is preferred over arbitrary ones like <code>variable1</code> and <code>variable2</code>. Otherwise it’s very hard to remember what the contents of different variables actually are.</p></li>
<li><p>Use short variable names. Typing is a pain and no-one likes doing it. So we much prefer to use a name like <code>apple</code> over a name like <code>pink_lady_apple</code>.</p></li>
<li><p>Use one of the conventional naming styles for multi-word variable names. R only lets you use certain things as <strong>legal</strong> names. Legal names must start with a letter <strong>not</strong> a number, which can then be followed by a sequence of letters, numbers, ., or _. R does not like using spaces. Upper and lower case names are allowed, but R is case sensitive so <code>Apple</code> and <code>apple</code> are different.</p></li>
<li><p>My favourite naming convention is <code>snake_case</code> short, lower case only, spaces between words are separated with a _. It’s easy to read and easy to remember.</p></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/snake_case.png" class="img-fluid figure-img" style="width:80.0%" alt="snake_case"></p>
<figcaption>courtesy of Allison Horst</figcaption></figure>
</div>
</div>
</div>
</section></section><section id="r-objects" class="level2" data-number="A.8"><h2 data-number="A.8" class="anchored" data-anchor-id="r-objects">
<span class="header-section-number">A.8</span> R objects</h2>
<p>In R, there are five fundamental or “atomic” classes of objects:</p>
<ul>
<li><p>Character: These represent text or character strings.</p></li>
<li><p>Numeric (num) or Double (dbl): These are used for real numbers (e.g., decimal numbers).</p></li>
<li><p>Integer: Used for whole numbers.</p></li>
<li><p>Complex: For complex numbers.</p></li>
<li><p>Logical: Represented as True or False, these are used for logical values.</p></li>
</ul>
<p>The most basic type of R object is a vector. You can create empty vectors using the <code><a href="https://rdrr.io/r/base/vector.html">vector()</a></code> function. The primary rule regarding vectors in R is that a vector can only contain objects of the same class.</p>
<p>However, as with any good rule, there’s an exception, which is the “list.” Lists are represented as vectors but can hold objects of different classes, which is why they’re often used.</p>
<section id="numbers" class="level3" data-number="A.8.1"><h3 data-number="A.8.1" class="anchored" data-anchor-id="numbers">
<span class="header-section-number">A.8.1</span> Numbers</h3>
<p>In R, both “dbl” and “num” refer to numeric data types, but there is a subtle difference between them:</p>
<ul>
<li><p>dbl (“double”): This refers to double-precision floating-point numbers, which are capable of storing real numbers with high precision. Double-precision numbers have more decimal places of accuracy and can represent a wider range of values without loss of precision. When you perform arithmetic operations, R typically returns results as “dbl” values by default.</p></li>
<li><p>num (“numeric”): “Num” is a more general term that includes not only double-precision floating-point numbers but also integer values. In R, integers are a subtype of numeric data. Numeric data can include both integers and double-precision floating-point numbers, depending on the specific data and how it is represented.</p></li>
</ul>
<p>So, “dbl” specifically denotes double-precision floating-point numbers, while “num” encompasses a broader range of numeric data, including both integers and double-precision numbers. In most cases, you can use “num” to work with numeric data in a more general sense, while “dbl” focuses on the higher-precision representation of real numbers.</p>
</section></section><section id="attributes" class="level2" data-number="A.9"><h2 data-number="A.9" class="anchored" data-anchor-id="attributes">
<span class="header-section-number">A.9</span> Attributes</h2>
<p>R objects can come with attributes, which are essentially metadata for the object. These metadata are handy because they help describe the object. For instance, in a data frame, column names serve as attributes, clarifying the data contained in each column. Here are a few examples of R object attributes:</p>
<ul>
<li><p><code><a href="https://rdrr.io/r/base/names.html">names()</a></code> and <code><a href="https://rdrr.io/r/base/dimnames.html">dimnames()</a></code></p></li>
<li><p>dimensions (e.g., for matrices and arrays) <code><a href="https://rdrr.io/r/base/dim.html">dim()</a></code></p></li>
<li><p><code><a href="https://rdrr.io/r/base/class.html">class()</a></code> (e.g., integer, numeric)</p></li>
<li><p><code><a href="https://rdrr.io/r/base/length.html">length()</a></code></p></li>
<li><p>Other user-defined attributes or metadata</p></li>
</ul>
<p>You can access the attributes of an object, if it has any, by using the <code><a href="https://rdrr.io/r/base/attributes.html">attributes()</a></code> function. If an R object doesn’t have any attributes, the <code><a href="https://rdrr.io/r/base/attributes.html">attributes()</a></code> function will return NULL.</p>
</section><section id="vectors" class="level2" data-number="A.10"><h2 data-number="A.10" class="anchored" data-anchor-id="vectors">
<span class="header-section-number">A.10</span> Vectors</h2>
<p>We have been working with R objects containing a single element of data (the technical term is <strong>scalar</strong>), but we will more commonly work with vectors. A vector is a sequence of elements, all of the same data type. These could be logical, numerical, character etc.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>numeric_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb35-2"><a href="#cb35-2"></a></span>
<span id="cb35-3"><a href="#cb35-3"></a>character_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"fruits"</span>, <span class="st">"vegetables"</span>, <span class="st">"seeds"</span>)</span>
<span id="cb35-4"><a href="#cb35-4"></a></span>
<span id="cb35-5"><a href="#cb35-5"></a>logical_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb35-6"><a href="#cb35-6"></a></span>
<span id="cb35-7"><a href="#cb35-7"></a>integer_vector <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="coercion" class="level3" data-number="A.10.1"><h3 data-number="A.10.1" class="anchored" data-anchor-id="coercion">
<span class="header-section-number">A.10.1</span> Coercion</h3>
<p>In R, when different classes of objects are mixed together in a vector, coercion occurs to ensure that every element in the vector belongs to the same class. Coercion is the process of converting objects to a common class to make the combination reasonable. Let’s see the effects of implicit coercion in the provided examples:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">2.3</span>, <span class="st">"a"</span>) <span class="co"># Here, we're mixing a numeric value (1.7) with a character value ("a"). To make them compatible, R coerces both elements into character values. So, y becomes a character vector.</span></span>
<span id="cb36-2"><a href="#cb36-2"></a></span>
<span id="cb36-3"><a href="#cb36-3"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="dv">2</span>) <span class="co"># In this case, we're combining a logical value (TRUE) with a numeric value (2). R coerces the logical value into 1, so y becomes a numeric vector.</span></span>
<span id="cb36-4"><a href="#cb36-4"></a></span>
<span id="cb36-5"><a href="#cb36-5"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="cn">TRUE</span>) <span class="co"># We're mixing a character value ("a") with a logical value (TRUE). In this scenario, R coerces the logical value into a character value, resulting in y becoming a character vector.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>So, the outcome depends on how R can reasonably represent all the objects in the vector. It aims to create a vector of the most inclusive class to accommodate the mixed objects. Keep in mind that this coercion can lead to unexpected results, so it’s essential to be aware of the implicit type conversion when mixing different data types in R.</p>
<p>Objects can also be <strong>explicitly coerced</strong> from one class to another using the as.* functions, if available.</p>
</section><section id="task" class="level3" data-number="A.10.2"><h3 data-number="A.10.2" class="anchored">
<span class="header-section-number">A.10.2</span> Task</h3>
<p>Create the following vector and check its class, then note what happens when you attempt to coerce to numeric, logical and character</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>x <span class="ot">&lt;-</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="fu">as.numeric</span>(x)</span>
<span id="cb38-2"><a href="#cb38-2"></a></span>
<span id="cb38-3"><a href="#cb38-3"></a><span class="fu">as.logical</span>(x)</span>
<span id="cb38-4"><a href="#cb38-4"></a></span>
<span id="cb38-5"><a href="#cb38-5"></a><span class="fu">as.character</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0 1 2 3 4 5
[1] FALSE  TRUE  TRUE  TRUE  TRUE  TRUE
[1] "0" "1" "2" "3" "4" "5"</code></pre>
</div>
</div>
<p><code>r unhide()</code></p>
<p>Sometimes, R can’t figure out how to coerce an object and this can result in <code>NA</code>s being produced</p>
<section id="subsetting-vectors" class="level3" data-number="A.10.3"><h3 data-number="A.10.3" class="anchored" data-anchor-id="subsetting-vectors">
<span class="header-section-number">A.10.3</span> Subsetting vectors</h3>
<p>With numerical indexing, you enter a vector of integers corresponding to the values in the vector you want to access in the form a[index], where a is the vector, and index is a vector of index values. For example, let’s use numerical indexing to get values from our character_vector</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a>character_vector[<span class="dv">2</span>]</span>
<span id="cb40-2"><a href="#cb40-2"></a><span class="co"># [1] "vegetables"</span></span>
<span id="cb40-3"><a href="#cb40-3"></a></span>
<span id="cb40-4"><a href="#cb40-4"></a></span>
<span id="cb40-5"><a href="#cb40-5"></a>character_vector[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]</span>
<span id="cb40-6"><a href="#cb40-6"></a><span class="co"># [1] "fruits"     "vegetables"</span></span>
<span id="cb40-7"><a href="#cb40-7"></a></span>
<span id="cb40-8"><a href="#cb40-8"></a>character_vector[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]</span>
<span id="cb40-9"><a href="#cb40-9"></a><span class="co"># [1] "fruits" "seeds" </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can also use logical indexing</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a>numeric_vector <span class="sc">&lt;=</span><span class="dv">2</span></span>
<span id="cb41-2"><a href="#cb41-2"></a><span class="co"># [1]  TRUE  TRUE FALSE</span></span>
<span id="cb41-3"><a href="#cb41-3"></a></span>
<span id="cb41-4"><a href="#cb41-4"></a>character_vector <span class="sc">==</span> <span class="st">"fruits"</span></span>
<span id="cb41-5"><a href="#cb41-5"></a><span class="co">#[1]  TRUE FALSE FALSE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="operations-on-vectors" class="level3" data-number="A.10.4"><h3 data-number="A.10.4" class="anchored" data-anchor-id="operations-on-vectors">
<span class="header-section-number">A.10.4</span> Operations on vectors</h3>
<p>We can run the same basic operations on vectors as we did on scalars</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb42-2"><a href="#cb42-2"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb42-3"><a href="#cb42-3"></a></span>
<span id="cb42-4"><a href="#cb42-4"></a><span class="co"># Operations will happen between vectors</span></span>
<span id="cb42-5"><a href="#cb42-5"></a>x<span class="sc">*</span>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2  6 12</code></pre>
</div>
</div>
<p>A very <em>super-wickedly</em>, <strong>important</strong>, concept: R likes to operate on vectors of the same length, so if it encounters two vectors of different lengths in a binary operation, it merely replicates (recycles) the smaller vector until it is the same length as the longest vector, then it does the operation.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb44-2"><a href="#cb44-2"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)</span>
<span id="cb44-3"><a href="#cb44-3"></a></span>
<span id="cb44-4"><a href="#cb44-4"></a><span class="co"># Operations will happen between vectors</span></span>
<span id="cb44-5"><a href="#cb44-5"></a>x<span class="sc">*</span>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>[1] 1 4 3

Warning: longer object length is not a multiple of shorter object length[1] 1 4 3
</code></pre>
</section><section id="matrices" class="level2" data-number="A.11"><h2 data-number="A.11" class="anchored" data-anchor-id="matrices">
<span class="header-section-number">A.11</span> Matrices</h2>
<p>Matrices can be thought of as vectors with an added dimension attribute. This dimension attribute is a two-element integer vector specifying the number of rows and columns, which defines the shape and structure of the matrix.</p>
<div class="cell" data-layout-align="center" type="info">
<div class="info">
<p>
Data frames are also two-dimensional but can store columns of different data types - matrices are simpler as they consist of elements of the same data type.
</p>
</div>
</div>
<p>Matrices are constructed “columns-first” so entries start in the “upper left” and and run down columns.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a>m <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>) </span>
<span id="cb46-2"><a href="#cb46-2"></a>m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a><span class="fu">attributes</span>(m)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$dim
[1] 2 3</code></pre>
</div>
</div>
<p>We can create matrices in several ways:</p>
<ul>
<li><p>Adding a <code><a href="https://rdrr.io/r/base/dim.html">dim()</a></code> to existing vectors</p></li>
<li><p>Column/row-binding vectors with <code><a href="https://rdrr.io/r/base/cbind.html">cbind()</a></code> and <code><a href="https://rdrr.io/r/base/cbind.html">rbind()</a></code></p></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a>m <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span></span>
<span id="cb50-2"><a href="#cb50-2"></a></span>
<span id="cb50-3"><a href="#cb50-3"></a><span class="fu">dim</span>(m) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb50-4"><a href="#cb50-4"></a></span>
<span id="cb50-5"><a href="#cb50-5"></a>m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span></span>
<span id="cb52-2"><a href="#cb52-2"></a>b <span class="ot">&lt;-</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">4</span></span>
<span id="cb52-3"><a href="#cb52-3"></a>c <span class="ot">&lt;-</span> <span class="dv">5</span><span class="sc">:</span><span class="dv">6</span></span>
<span id="cb52-4"><a href="#cb52-4"></a></span>
<span id="cb52-5"><a href="#cb52-5"></a>m <span class="ot">&lt;-</span> <span class="fu">cbind</span>(a,b,c)</span>
<span id="cb52-6"><a href="#cb52-6"></a>m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     a b c
[1,] 1 3 5
[2,] 2 4 6</code></pre>
</div>
</div>
<p>You will see how in this last operation column names were added to the matrix, we can add, change or remove column and rownames on a matrix with <code><a href="https://rdrr.io/r/base/colnames.html">colnames()</a></code> and <code><a href="https://rdrr.io/r/base/colnames.html">rownames()</a></code></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a><span class="fu">rownames</span>(m) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"y"</span>,<span class="st">"z"</span>)</span>
<span id="cb54-2"><a href="#cb54-2"></a>m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  a b c
y 1 3 5
z 2 4 6</code></pre>
</div>
</div>
</section><section id="lists" class="level2" data-number="A.12"><h2 data-number="A.12" class="anchored" data-anchor-id="lists">
<span class="header-section-number">A.12</span> Lists</h2>
<p>Lists are a versatile and fundamental data type in R. They set themselves apart from regular vectors by allowing you to store elements of different classes within the same list. This flexibility is what makes lists so powerful for various data structures and data manipulation tasks.</p>
<p>You can create lists explicitly using the <code><a href="https://rdrr.io/r/base/list.html">list()</a></code> function, which can take an arbitrary number of arguments. Lists, when combined with functions like the “apply” family, enable you to perform complex and versatile data manipulations and analyses in R. Lists are often used to represent heterogeneous data structures, such as datasets where different columns can have different data types and structures.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a>l <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span>, <span class="st">"apple"</span>, <span class="cn">TRUE</span> )</span>
<span id="cb56-2"><a href="#cb56-2"></a>l</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] 1

[[2]]
[1] "apple"

[[3]]
[1] TRUE</code></pre>
</div>
</div>
<p>We can also create empty lists of set lengths with the <code><a href="https://rdrr.io/r/base/vector.html">vector()</a></code> function, this can be useful for preallocating memory for iterations - as we will see later</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>l <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">"list"</span>, <span class="at">length =</span> <span class="dv">3</span>)</span>
<span id="cb58-2"><a href="#cb58-2"></a>l</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
NULL

[[2]]
NULL

[[3]]
NULL</code></pre>
</div>
</div>
<p>Lists can also have names</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a><span class="fu">names</span>(l) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"apple"</span>,<span class="st">"orange"</span>,<span class="st">"pear"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="dataframes" class="level2" data-number="A.13"><h2 data-number="A.13" class="anchored" data-anchor-id="dataframes">
<span class="header-section-number">A.13</span> Dataframes</h2>
<p>Data frames are essential for storing tabular data in R and find extensive use in various statistical modeling and data analysis applications. They offer a structured way to manage and work with data in R, and packages like dplyr, developed by Hadley Wickham, provide optimized functions for efficient data manipulation with data frames.</p>
<p>Here are some key characteristics and advantages of data frames:</p>
<ul>
<li><p>Tabular Structure: Data frames are a type of list, where each element in the list represents a column. The number of rows in each column is the same, and this tabular structure makes them suitable for working with datasets.</p></li>
<li><p>Mixed Data Types: Unlike matrices, data frames can contain columns with different classes of objects. This flexibility allows you to handle real-world datasets that often include variables of different data types.</p></li>
<li><p>Column and Row Names: Data frames include column names, which describe the variables or predictors. Additionally, they have a special attribute called “row.names” that provides information about each row in the data frame.</p></li>
<li><p>Creation and Conversion: Data frames can be created in various ways, such as reading data from files using functions like read.table() and read.csv(). You can also create data frames explicitly with data.frame().</p></li>
<li><p>Working with Data: Data frames are especially useful when working with datasets that require data cleaning, transformation, or merging. They provide a high level of data organization, and many R packages are designed to work seamlessly with data frames.</p></li>
<li><p>dplyr: The <code>dplyr</code> package is optimized for efficient data manipulation with data frames. It offers a set of functions to perform data operations quickly and intuitively.</p></li>
</ul>
<p>Data frames are a fundamental structure for managing tabular data in R. They excel in handling datasets with mixed data types and are essential for various data analysis and modeling tasks.</p>
<p>To create a dataframe from vectors we use the <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> function</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a>survey <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">"index"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>),</span>
<span id="cb61-2"><a href="#cb61-2"></a>                     <span class="st">"sex"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"m"</span>, <span class="st">"m"</span>, <span class="st">"m"</span>, <span class="st">"f"</span>, <span class="st">"f"</span>),</span>
<span id="cb61-3"><a href="#cb61-3"></a>                     <span class="st">"age"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">99</span>, <span class="dv">46</span>, <span class="dv">23</span>, <span class="dv">54</span>, <span class="dv">23</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>There is one key argument to <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> and similar functions called <code>stringsAsFactors</code>. By default, the data.frame() function will automatically convert any string columns to a specific type of object called a factor in R. A factor is a nominal variable that has a well-specified possible set of values that it can take on. For example, one can create a factor sex that can only take on the values “male” and “female”.</p>
<div class="cell" data-layout-align="center" type="warning">
<div class="warning">
<p>
Since R ver 4.0 release, stringsAsFactors is set FALSE by default!
</p>
</div>
</div>
<p>However, as I’m sure you’ll discover, having R automatically convert your string data to factors can lead to lots of strange results. For example: if you have a factor of sex data, but then you want to add a new value called other, R will yell at you and return an error. I hate, hate, HATE when this happens. While there are very, very rare cases when I find factors useful, I almost always don’t want or need them. For this reason, I avoid them at all costs.</p>
<p>To tell R to not convert your string columns to factors, you need to include the argument <code>stringsAsFactors = FALSE</code> when using functions such as <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a><span class="fu">str</span>(survey)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   5 obs. of  3 variables:
 $ index: num  1 2 3 4 5
 $ sex  : chr  "m" "m" "m" "f" ...
 $ age  : num  99 46 23 54 23</code></pre>
</div>
</div>
<p>To access a specific column in a dataframe by name, you use the <code>$</code> operator in the form <code>df$name</code> where <code>df</code> is the name of the dataframe, and name is the name of the column you are interested in. This operation will then return the column you want as a vector.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a>survey<span class="sc">$</span>sex</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "m" "m" "m" "f" "f"</code></pre>
</div>
</div>
<p>Because the <code>$</code> operator returns a vector, you can easily calculate descriptive statistics on columns of a dataframe by applying your favorite vector function (like <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code>).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a><span class="fu">mean</span>(survey<span class="sc">$</span>age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 49</code></pre>
</div>
</div>
<p>We can also use the <code>$</code> to add new vectors to a dataframe</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a>survey<span class="sc">$</span>follow_up <span class="ot">&lt;-</span> <span class="fu">c</span>(T,F,T,F,F)</span>
<span id="cb68-2"><a href="#cb68-2"></a>survey</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: right;">index</th>
<th style="text-align: left;">sex</th>
<th style="text-align: right;">age</th>
<th style="text-align: left;">follow_up</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">m</td>
<td style="text-align: right;">99</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">m</td>
<td style="text-align: right;">46</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: left;">m</td>
<td style="text-align: right;">23</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">54</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">23</td>
<td style="text-align: left;">FALSE</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Changing column names is easy with a combination of <code><a href="https://rdrr.io/r/base/names.html">names()</a></code> and indexing</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a><span class="fu">names</span>(survey)[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">"ID"</span></span>
<span id="cb69-2"><a href="#cb69-2"></a></span>
<span id="cb69-3"><a href="#cb69-3"></a>survey</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: right;">ID</th>
<th style="text-align: left;">sex</th>
<th style="text-align: right;">age</th>
<th style="text-align: left;">follow_up</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">m</td>
<td style="text-align: right;">99</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">m</td>
<td style="text-align: right;">46</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: left;">m</td>
<td style="text-align: right;">23</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">54</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: left;">f</td>
<td style="text-align: right;">23</td>
<td style="text-align: left;">FALSE</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<section id="slice-dataframes" class="level3" data-number="A.13.1"><h3 data-number="A.13.1" class="anchored" data-anchor-id="slice-dataframes">
<span class="header-section-number">A.13.1</span> Slice dataframes</h3>
<p>Matrices and dataframes can be sliced with <code>[,]</code></p>
<pre><code># Return row 1
df[1, ]


# Return column 5 as vector
df[, 5]

# Return column as data.frame
df[5]

# Rows 1:5 and column 2
df[1:5, 2]

# Single element
df[[1,2]]
</code></pre>
<p>Or slice with <code>subset</code></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a>survey_slice <span class="ot">&lt;-</span> <span class="fu">subset</span>(<span class="at">x =</span> survey,</span>
<span id="cb71-2"><a href="#cb71-2"></a>      <span class="at">subset =</span> age <span class="sc">&lt;</span> <span class="dv">50</span> <span class="sc">&amp;</span></span>
<span id="cb71-3"><a href="#cb71-3"></a>               sex <span class="sc">==</span> <span class="st">"m"</span>)</span>
<span id="cb71-4"><a href="#cb71-4"></a></span>
<span id="cb71-5"><a href="#cb71-5"></a>survey_slice</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">ID</th>
<th style="text-align: left;">sex</th>
<th style="text-align: right;">age</th>
<th style="text-align: left;">follow_up</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">m</td>
<td style="text-align: right;">46</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: left;">3</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">m</td>
<td style="text-align: right;">23</td>
<td style="text-align: left;">TRUE</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section><section id="tibbles" class="level3" data-number="A.13.2"><h3 data-number="A.13.2" class="anchored" data-anchor-id="tibbles">
<span class="header-section-number">A.13.2</span> Tibbles</h3>
<p>“Tibbles” are a new modern data frame. It keeps many important features of the original data frame</p>
<ul>
<li><p>A tibble never changes the input type.</p></li>
<li><p>A tibble can have columns that are lists.</p></li>
<li>
<p>A tibble can have non-standard variable names.</p>
<ul>
<li>can start with a number or contain spaces. -to use this refer to these in a backtick.</li>
</ul>
</li>
<li><p>Tibbles only print the first 10 rows and all the columns that fit on a screen. - Each column displays its data type</p></li>
</ul>
<p>The way we make tibbles is very similar to making dataframes</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a>survey_tibble <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">"index"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>),</span>
<span id="cb72-2"><a href="#cb72-2"></a>                     <span class="st">"sex"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"m"</span>, <span class="st">"m"</span>, <span class="st">"m"</span>, <span class="st">"f"</span>, <span class="st">"f"</span>),</span>
<span id="cb72-3"><a href="#cb72-3"></a>                     <span class="st">"age"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">99</span>, <span class="dv">46</span>, <span class="dv">23</span>, <span class="dv">54</span>, <span class="dv">23</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a><span class="co"># Some R functions for looking at tibbles and dataframes</span></span>
<span id="cb73-2"><a href="#cb73-2"></a></span>
<span id="cb73-3"><a href="#cb73-3"></a><span class="fu">head</span>(survey_tibble, <span class="at">n=</span><span class="dv">2</span>)</span>
<span id="cb73-4"><a href="#cb73-4"></a><span class="fu">tail</span>(survey_tibble, <span class="at">n=</span><span class="dv">1</span>)</span>
<span id="cb73-5"><a href="#cb73-5"></a><span class="fu">nrow</span>(survey_tibble)</span>
<span id="cb73-6"><a href="#cb73-6"></a><span class="fu">ncol</span>(survey_tibble)</span>
<span id="cb73-7"><a href="#cb73-7"></a><span class="fu">colnames</span>(survey_tibble)</span>
<span id="cb73-8"><a href="#cb73-8"></a><span class="fu">view</span>(survey_tibble)</span>
<span id="cb73-9"><a href="#cb73-9"></a><span class="fu">glimpse</span>(survey_tibble)</span>
<span id="cb73-10"><a href="#cb73-10"></a><span class="fu">str</span>(survey_tibble)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="brackets-with-tibbles" class="level3" data-number="A.13.3"><h3 data-number="A.13.3" class="anchored" data-anchor-id="brackets-with-tibbles">
<span class="header-section-number">A.13.3</span> Brackets with tibbles</h3>
<p>The behaviour of single [] indexing with tibbles is slightly different.</p>
<p>In a dataframe [,1] extracts a single column as a vector, but with a tibble this conversion does not occur. Instead it returns as a tibble with a single column, not a vector.</p>
<p>To extract a vector we must use:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a><span class="co"># pull function</span></span>
<span id="cb74-2"><a href="#cb74-2"></a><span class="fu">pull</span>(survey_tibble, sex)</span>
<span id="cb74-3"><a href="#cb74-3"></a></span>
<span id="cb74-4"><a href="#cb74-4"></a><span class="co"># double brackets</span></span>
<span id="cb74-5"><a href="#cb74-5"></a>survey_tibble[[<span class="dv">2</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>https://tibble.tidyverse.org/</p>
<p>https://cran.r-project.org/web/packages/tibble/vignettes/tibble.html</p>
</section></section><section id="matrix-dataframe-tibble-functions" class="level2" data-number="A.14"><h2 data-number="A.14" class="anchored" data-anchor-id="matrix-dataframe-tibble-functions">
<span class="header-section-number">A.14</span> Matrix, dataframe, tibble functions</h2>
<p>Important functions for understanding matrices and dataframes.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 36%">
<col style="width: 63%">
</colgroup>
<thead><tr class="header">
<th>Function</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>head(x), tail(x)</code></td>
<td>Print the first few rows (or last few rows).</td>
</tr>
<tr class="even">
<td><code>View(x)</code></td>
<td>Open the entire object in a new window.</td>
</tr>
<tr class="odd">
<td><code>nrow(x), ncol(x), dim(x)</code></td>
<td>Count the number of rows and columns.</td>
</tr>
<tr class="even">
<td><code>rownames(), colnames(), names()</code></td>
<td>Show the row (or column) names.</td>
</tr>
<tr class="odd">
<td><code>str(x), summary(x)</code></td>
<td>Show the structure of the dataframe (i.e., dimensions and classes) and summary statistics.</td>
</tr>
</tbody>
</table></section><section id="functions" class="level2" data-number="A.15"><h2 data-number="A.15" class="anchored" data-anchor-id="functions">
<span class="header-section-number">A.15</span> Functions</h2>
<p>Functions are the tools of R. Each one helps us to do a different task.</p>
<p>Take for example the function that we use to round a number to a certain number of digits - this function is called <code>round</code></p>
<p>Here’s an example:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a><span class="fu">round</span>(<span class="at">x  =</span> <span class="fl">2.4326782647</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We start the command with the function name <code>round</code>. The name is followed by parentheses <code>()</code>. Within these we place the <em>arguments</em> for the function, each of which is separated by a comma.</p>
<p>The arguments:</p>
<ul>
<li><p><code>x =</code> 2.4326782647 (the number we would like to round)</p></li>
<li><p><code>digits =</code> 2 (the number of decimal places we would like to round to)</p></li>
</ul>
<p><strong>Arguments are the inputs we give to a function</strong>. These arguments are in the form <code>name = value</code> the name specifies the argument, and the value is what we are providing to define the input. That is the first argument <code>x</code> is the number we would like to round, it has a value of 2.4326782647. The second argument <code>digits</code> is how we would like the number to be rounded and we specify 2. There is no limit to how many arguments a function <em>could</em> have.</p>
<div class="cell" data-layout-align="center" type="try">
<div class="try">
<p>
Copy and paste the following code into the console.
</p>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1"></a><span class="fu">help</span>(round)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The help documentation for <code><a href="https://rdrr.io/r/base/Round.html">round()</a></code>should appear in the bottom right help panel. In the usage section, we see that <code><a href="https://rdrr.io/r/base/Round.html">round()</a></code>takes the following form:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a><span class="fu">round</span>(x, <span class="at">digits =</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In the arguments section, there are explanations for each of the arguments. <code>x</code>is the number or vector where we wish to round values. <code>digits</code> is the number of decimal places to be used. In the description we can see that if no value is supplied for <code>digits</code> it will default to 0 or whole number rounding.</p>
<p>Read the ‘Details’ section to find out what happens when rounding when the last digit is a 5.</p>
<p>Let’s try an example and just change the required argument <code>digits</code></p>
<div class="cell" data-layout-align="center" type="try">
<div class="try">
<p>
Copy and paste the following code into the console.
</p>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1"></a><span class="fu">round</span>(<span class="at">x  =</span> <span class="fl">2.4326782647</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<p>Now we can change the additional arguments to produce a different set of numbers.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a><span class="fu">round</span>(<span class="at">x  =</span> <span class="fl">2.4326782647</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.43</code></pre>
</div>
</div>
<p>This time R has still rounded the number, but it has done so to a set number of ‘decimal places’.</p>
<p>Always remember to use the help documentation to help you understand what arguments a function requires.</p>
<section id="storing-the-output-of-functions" class="level3" data-number="A.15.1"><h3 data-number="A.15.1" class="anchored" data-anchor-id="storing-the-output-of-functions">
<span class="header-section-number">A.15.1</span> Storing the output of functions</h3>
<p>What if we need the answer from a function in a later calculation. The answer is to use the assignment operator again <code>&lt;-</code>.</p>
<p>In this example we assign values to two R objects that we can then call inside our R function <strong>as though we were putting numbers in directly</strong>.</p>
<div class="cell" data-layout-align="center" type="try">
<div class="try">
<p>
Copy and paste the following code into the console.
</p>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a>number_of_digits <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb82-2"><a href="#cb82-2"></a></span>
<span id="cb82-3"><a href="#cb82-3"></a>my_number <span class="ot">&lt;-</span> <span class="fl">2.4326782647</span></span>
<span id="cb82-4"><a href="#cb82-4"></a></span>
<span id="cb82-5"><a href="#cb82-5"></a>rounded_number <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="at">x  =</span> my_number, </span>
<span id="cb82-6"><a href="#cb82-6"></a>                        <span class="at">digits =</span> number_of_digits)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>What value is assigned to the R object <code>rounded_number</code></strong> <strong>?</strong></p>
<div class="webex-solution">
<button>
Solution
</button>
<div class="cell" data-layout-align="center">
<p>[1] 2.433</p>
</div>
</div>
</section><section id="more-fun-with-functions" class="level3" data-number="A.15.2"><h3 data-number="A.15.2" class="anchored" data-anchor-id="more-fun-with-functions">
<span class="header-section-number">A.15.2</span> More fun with functions</h3>
<p>Copy and paste this:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a><span class="fu">round</span>(<span class="fl">2.4326782647</span>, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Looks like we don’t even <em>have</em> to give the names of arguments for a function to still work. This works because the function <code>round</code> expects us to give the number value first, and the argument for rounding digits second. <em>But</em> this assumes we know the expected ordering within a function, this might be the case for functions we use a lot. If you give arguments their proper names <em>then</em> you can actually introduce them in <strong>any order you want</strong>.</p>
<p>Try this:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a><span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>, <span class="at">x  =</span> <span class="fl">2.4326782647</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>But this gives a different answer</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a><span class="fu">round</span>(<span class="dv">2</span>, <span class="fl">2.4326782647</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center" type="warning">
<div class="warning">
<p>
Remember naming arguments overrides the position defaults
</p>
</div>
</div>
<p>How do we <strong>know</strong> the argument orders and defaults? Well we get to know how a lot of functions work through practice, but we can also use <code><a href="https://rdrr.io/r/utils/help.html">help()</a></code> .</p>
</section></section><section id="packages" class="level2" data-number="A.16"><h2 data-number="A.16" class="anchored" data-anchor-id="packages">
<span class="header-section-number">A.16</span> Packages</h2>
<p>When you install R you will have access to a range of functions including options for data wrangling and statistical analysis. The functions that are included in the default installation are typically referred to as <strong>Base R</strong> and there is a useful cheat sheet that shows many Base R functions <a href="[https://www.rstudio.com/wp-content/uploads/2016/05/base-r.pdf">here</a></p>
<p>However, the power of R is that it is extendable and open source - anyone can create a new <strong>package</strong> that extends the functions of R.</p>
<p>An R package is a container for various things including functions and data. These make it easy to do very complicated protocols by using custom-built functions. Later we will see how we can write our own simple functions. Packages are a lot like new apps extending the functionality of what your phone can do.</p>
<section id="loading-packages" class="level3" data-number="A.16.1"><h3 data-number="A.16.1" class="anchored" data-anchor-id="loading-packages">
<span class="header-section-number">A.16.1</span> Loading packages</h3>
<p>To use the functions from a package in our script they must be loaded <em>before</em> we call on the functions or data they contain. So the most sensible place to put library calls for packages is at the very <strong>top</strong> of our script.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1"></a><span class="fu">library</span>(package_name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="calling-functions-from-packages" class="level3" data-number="A.16.2"><h3 data-number="A.16.2" class="anchored" data-anchor-id="calling-functions-from-packages">
<span class="header-section-number">A.16.2</span> Calling Functions from Packages</h3>
<p>After loading a package, you can call its functions using either <code>function()</code> or the full <code>package_name::function_name()</code> syntax. This allows you to specify the package explicitly when using a particular function.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb87-2"><a href="#cb87-2"></a></span>
<span id="cb87-3"><a href="#cb87-3"></a><span class="fu">filter</span>(dataframe, condition)</span>
<span id="cb87-4"><a href="#cb87-4"></a></span>
<span id="cb87-5"><a href="#cb87-5"></a>dplyr<span class="sc">::</span><span class="fu">filter</span>(dataframe, conditions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Calling a function explicitly via its package can be useful for</p>
<ol type="1">
<li>Avoiding Conflicts:</li>
</ol>
<p>Sometimes, multiple packages may have functions with the same name. By explicitly specifying the package with package_name::, you avoid naming conflicts and ensure that R uses the function from the intended package.</p>
<ol start="2" type="1">
<li>Clarity:</li>
</ol>
<p>It can make your code more transparent and easier to understand, especially in cases where the function’s origin is not immediately obvious. This is helpful for both yourself and others who read your code.</p>
<blockquote class="blockquote">
<p>Though it is still good practice to comment at the top of your script that this package is required even if you don’t include library(package)</p>
</blockquote>
<ol start="3" type="1">
<li>Debugging:</li>
</ol>
<p>When troubleshooting issues or debugging code, specifying the package source of a function can help pinpoint problems and ensure that the correct function is being used.</p>
</section></section><section id="error" class="level2" data-number="A.17"><h2 data-number="A.17" class="anchored" data-anchor-id="error">
<span class="header-section-number">A.17</span> Error</h2>
<p>Things will go wrong eventually, they always do…</p>
<p>R is <em>very</em> pedantic, even the smallest typo can result in failure and typos are impossilbe to avoid. So we will make mistakes. One type of mistake we will make is an <strong>error</strong>. The code fails to run. The most common causes for an error are:</p>
<ul>
<li><p>typos</p></li>
<li><p>missing commas</p></li>
<li><p>missing brackets</p></li>
</ul>
<p>There’s nothing wrong with making <em>lots</em> of errors. The trick is not to panic or get frustrated, but to read the error message and our script carefully and start to <em>debug</em> (more on this later)…</p>
<p>… and sometimes we need to walk away and come back later!</p>
<div class="cell" data-layout-align="center" type="try">
<div class="try">
<p>
Try typing the command <code><a href="https://rdrr.io/r/utils/help.html">help()</a></code> into the R console, it should open a new tab on the bottom right.
</p>
<p>
Put a function or package into the brackets to get help with a specific topic
</p>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/Error.jpg" class="img-fluid figure-img" style="width:80.0%" alt="R Error"></p>
<figcaption>courtesy of Allison Horst</figcaption></figure>
</div>
</div>
</div>
<p>To load packages we use the function <code><a href="https://rdrr.io/r/base/library.html">library()</a></code>. Typically you would start any analysis script by loading all of the packages you need.</p>
<p>The <a href="https://www.tidyverse.org/">tidyverse</a> is an opinionated collection of R packages designed for data science. All packages share an underlying design philosophy, grammar, and data structures. This means the functions across the tidyverse are all designed to work together and make the process of data science easier.</p>
</section><section id="using-packages" class="level2" data-number="A.18"><h2 data-number="A.18" class="anchored" data-anchor-id="using-packages">
<span class="header-section-number">A.18</span> Using packages</h2>
<p>Run the below code to load the tidyverse package. You can do this regardless of whether you are using your own computer or the cloud.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You will get what looks like an error message - it’s not. It’s just R telling you what it’s done. You should <strong>read this</strong> it gives you a full list of the packages it has made available to you.</p>
<p>Now that we’ve loaded the <code>tidyverse</code> package we can use <strong>any</strong> of the functions it contains but remember, you need to run the <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> function every time you start R.</p>
<div class="webex-solution">
<button>
Install the tidyverse. You DO NOT need to do this on RStudio Cloud.
</button>
<p>In order to use a package, you must first install it. The following code installs the package tidyverse, a package we will use very frequently.</p>
<p>If you are working on your own computer, use the below code to install the tidyverse.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You only need to install a package once, however, each time you start R you need to load the packages you want to use, in a similar way that you need to install an app on your phone once, but you need to open it every time you want to use it.</p>
</div>
<p><br></p>
<div class="cell" data-layout-align="center" type="danger">
<div class="danger">
<p>
If you get an error message that says something like “WARNING: Rtools is required to build R packages” you may need to download and install an extra bit of software called <a href="https://cran.r-project.org/bin/windows/Rtools/">Rtools</a>.
</p>
</div>
</div>
</section><section id="package-updates" class="level2" data-number="A.19"><h2 data-number="A.19" class="anchored" data-anchor-id="package-updates">
<span class="header-section-number">A.19</span> Package updates</h2>
<p>In addition to updates to R and R Studio, the creators of packages also sometimes update their code. This can be to add functions to a package, or it can be to fix errors. One thing to avoid is unintentionally updating an installed package. When you run <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> it will always install the latest version of the package and it will overwrite any older versions you may have installed. Sometimes this isn’t a problem, however, sometimes you will find that the update means your code no longer works as the package has changed substantially. It is possible to revert back to an older version of a package but try to avoid this anyway.</p>
<div class="cell" data-layout-align="center" type="danger">
<div class="danger">
<p>
To avoid accidentally overwriting a package with a later version, you should <strong>never</strong> include <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> in your analysis scripts in case you, or someone else runs the code by mistake. Remember, the server will already have all of the packages you need for this course so you only need to install packages if you are using your own machine.
</p>
</div>
</div>
</section><section id="package-conflicts" class="level2" data-number="A.20"><h2 data-number="A.20" class="anchored" data-anchor-id="package-conflicts">
<span class="header-section-number">A.20</span> Package conflicts</h2>
<p>There are thousands of different R packages with even more functions. Unfortunately, sometimes different packages have the same function names. For example, the packages <code>dplyr</code> and <code>MASS</code> both have a function named <code>select()</code>. If you load both of these packages, R will produce a warning telling you that there is a conflict.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb90-2"><a href="#cb90-2"></a><span class="fu">library</span>(MASS)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'MASS'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked _by_ '.GlobalEnv':

    survey</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:dplyr':

    select</code></pre>
</div>
</div>
<pre><code>package �dplyr� was built under R version 3.6.3
Attaching package: �dplyr�

The following objects are masked from �package:stats�:

    filter, lag

The following objects are masked from �package:base�:

    intersect, setdiff, setequal, union


Attaching package: �MASS�

The following object is masked from �package:dplyr�:

    select</code></pre>
<p>In this case, R is telling you that the function <code>select()</code> in the <code>dplyr</code> package is being hidden (or ‘masked’) by another function with the same name. If you were to try and use <code>select()</code>, R would use the function from the package that was loaded most recently - in this case it would use the function from <code>MASS</code>.</p>
<p>If you want to specify which package you want to use for a particular function you can use code in the format <code>package::function</code>, for example:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a>dplyr<span class="sc">::</span><span class="fu">select</span>()</span>
<span id="cb95-2"><a href="#cb95-2"></a>MASS<span class="sc">::</span><span class="fu">select</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center" type="info">
<div class="info">
<p>
Why do we get naming conflicts?
</p>
<p>
This is because R is open source software. Anyone can write and submit useful R packages. As a result it is impossible to make sure that there are NEVER any functions with identical names.
</p>
</div>
</div>
</section><section id="objects" class="level2" data-number="A.21"><h2 data-number="A.21" class="anchored" data-anchor-id="objects">
<span class="header-section-number">A.21</span> Objects</h2>
<p>A large part of your coding will involve creating and manipulating objects. Objects contain stuff, and we made our first R objects in the previous chapter. The values contained in an object can be numbers, words, or the result of operations and analyses.You assign content to an object using <code>&lt;-</code>.</p>
<section id="activity-1-create-some-objects" class="level3" data-number="A.21.1"><h3 data-number="A.21.1" class="anchored" data-anchor-id="activity-1-create-some-objects">
<span class="header-section-number">A.21.1</span> Activity 1: Create some objects</h3>
<p>Copy and paste the following code into the console, change the code so that it uses your own name and age and run it. You should see that <code>name</code>, <code>age</code>, <code>today</code>, <code>new_year</code>, and <code>data</code> appear in the environment pane.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1"></a>name <span class="ot">&lt;-</span> <span class="st">"emily"</span></span>
<span id="cb96-2"><a href="#cb96-2"></a>age <span class="ot">&lt;-</span> <span class="dv">16</span> <span class="sc">+</span> <span class="dv">19</span> </span>
<span id="cb96-3"><a href="#cb96-3"></a>today <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>()</span>
<span id="cb96-4"><a href="#cb96-4"></a>new_year <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2022-01-01"</span>)</span>
<span id="cb96-5"><a href="#cb96-5"></a>data <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">15</span>, <span class="at">sd =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>What command should we use if you need <code>help</code> to understand the function <code><a href="https://rdrr.io/r/stats/Normal.html">rnorm()</a></code>?</p>
<p><input class="webex-solveme nospaces" size="11" data-answer="[&quot;help(rnorm)&quot;]"></p>
<p>`</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/objects-enviro.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Objects in the environment</figcaption></figure>
</div>
</div>
</div>
<p>Note that in these examples, <code>name</code>,<code>age</code>, and <code>new_year</code> would always contain the values <code>emily</code>, <code>35</code>, and the date of New Year’s Day 2021, however, <code>today</code> will draw the date from the operating system and <code>data</code> will be a randomly generated set of data so the values of these objects will not be static.</p>
<p>As a side note, if you ever have to teach programming and statistics, don’t use your age as an example because every time you have to update your teaching materials you get a reminder of the fragility of existence and your advancing age. 2021 update: I have now given up updating my age, I will remain forever 35.</p>
<p>Importantly, objects can be involved in calculations and can interact with each other. For example:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a>age <span class="sc">+</span> <span class="dv">10</span></span>
<span id="cb97-2"><a href="#cb97-2"></a>new_year <span class="sc">-</span> today</span>
<span id="cb97-3"><a href="#cb97-3"></a><span class="fu">mean</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 45
Time difference of -999 days
[1] 15.31317</code></pre>
</div>
</div>
<p>Finally, you can store the result of these operations in a new object:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1"></a>decade <span class="ot">&lt;-</span> age <span class="sc">+</span> <span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center" type="info">
<div class="info">
<p>
You may find it helpful to read <code>&lt;-</code> as <code>contains</code>, e.g., <code>name</code> contains the text <code>emily</code>.
</p>
</div>
</div>
<p>You will constantly be creating objects throughout this course and you will learn more about them and how they behave as we go along, however, for now it is enough to understand that they are a way of saving values, that these values can be numbers, text, or the result of operations, and that they can be used in further operations to create new variables.</p>
<div class="cell" data-layout-align="center" type="info">
<div class="info">
<p>
You may also see objects referred to as ‘variables’. There is a difference between the two in programming terms, however, they are used synonymously very frequently.
</p>
</div>
</div>
</section></section><section id="vectors-1" class="level2" data-number="A.22"><h2 data-number="A.22" class="anchored" data-anchor-id="vectors-1">
<span class="header-section-number">A.22</span> Vectors</h2>
<p>We have been working with R objects containing a single element of data, but we will more commonly work with vectors. A vector is a <em>sequence</em> of elements, <strong>all of the same data type</strong>. These could be logical, numerical, character etc.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1"></a>numeric_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb100-2"><a href="#cb100-2"></a></span>
<span id="cb100-3"><a href="#cb100-3"></a>character_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"fruits"</span>, <span class="st">"vegetables"</span>, <span class="st">"seeds"</span>)</span>
<span id="cb100-4"><a href="#cb100-4"></a></span>
<span id="cb100-5"><a href="#cb100-5"></a>logical_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The function <code>c</code> lets you ‘concatenate’ or link each of these separate elements together into a single vector.</p>
</section><section id="dataframes-and-tibbles" class="level2" data-number="A.23"><h2 data-number="A.23" class="anchored" data-anchor-id="dataframes-and-tibbles">
<span class="header-section-number">A.23</span> Dataframes and tibbles</h2>
<p>No we have looked at R objects that contain:</p>
<ul>
<li><p>single elements of data</p></li>
<li><p>multiple elements of the same data type - vectors</p></li>
</ul>
<p>But most often when we import data into R it is put into an object called a <strong>tibble</strong> which is a type of <strong>dataframe</strong>.</p>
<div class="cell" data-layout-align="center" type="info">
<div class="info">
<p>
A dataframe is data structure that organises data into a table. Dataframes can have a mix of different types of data in them. Each column in a dataframe is a different vector, and each row is a different element within the vectors.
</p>
</div>
</div>
<p>Let’s have a quick go at making our own <strong>tibble</strong> from scratch.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1"></a><span class="co"># make some variables/ vectors</span></span>
<span id="cb101-2"><a href="#cb101-2"></a>person <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Mark"</span>, <span class="st">"Phil"</span>, <span class="st">"Becky"</span>, <span class="st">"Tony"</span>)</span>
<span id="cb101-3"><a href="#cb101-3"></a></span>
<span id="cb101-4"><a href="#cb101-4"></a>hobby <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"kickboxing"</span>, <span class="st">"coding"</span>, <span class="st">"dog walking"</span>, <span class="st">"car boot sales"</span>)</span>
<span id="cb101-5"><a href="#cb101-5"></a></span>
<span id="cb101-6"><a href="#cb101-6"></a>awesomeness <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">100</span>,<span class="dv">1</span>,<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center" type="try">
<div class="try">
<p>
Use <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> on an object or vector to find out important information, like the data type of each vector and how many elements it contains.
</p>
</div>
</div>
<p>Now we put these vectors together, where they become the variables in a new tibble using the function <code>tibble()</code></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1"></a><span class="co"># make a tibble</span></span>
<span id="cb102-2"><a href="#cb102-2"></a>my_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(person, hobby, awesomeness)</span>
<span id="cb102-3"><a href="#cb102-3"></a>my_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code># A tibble: 4 x 3
  person hobby          awesomeness
  &lt;chr&gt;  &lt;chr&gt;                &lt;dbl&gt;
1 Mark   kickboxing               1
2 Phil   coding                 100
3 Becky  dog walking              1
4 Tony   car boot sales           1</code></pre>
<p>Have a go at messing about with your script and figure out what each of the functions below does.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1"></a><span class="co"># Some R functions for looking at tibbles and dataframes</span></span>
<span id="cb104-2"><a href="#cb104-2"></a></span>
<span id="cb104-3"><a href="#cb104-3"></a><span class="fu">head</span>(my_data, <span class="at">n=</span><span class="dv">2</span>)</span>
<span id="cb104-4"><a href="#cb104-4"></a><span class="fu">tail</span>(my_data, <span class="at">n=</span><span class="dv">1</span>)</span>
<span id="cb104-5"><a href="#cb104-5"></a><span class="fu">nrow</span>(my_data)</span>
<span id="cb104-6"><a href="#cb104-6"></a><span class="fu">ncol</span>(my_data)</span>
<span id="cb104-7"><a href="#cb104-7"></a><span class="fu">colnames</span>(my_data)</span>
<span id="cb104-8"><a href="#cb104-8"></a><span class="fu">view</span>(my_data)</span>
<span id="cb104-9"><a href="#cb104-9"></a><span class="fu">glimpse</span>(my_data)</span>
<span id="cb104-10"><a href="#cb104-10"></a><span class="fu">str</span>(my_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="organising-data-in-wide-and-long-formats" class="level2" data-number="A.24"><h2 data-number="A.24" class="anchored" data-anchor-id="organising-data-in-wide-and-long-formats">
<span class="header-section-number">A.24</span> Organising data in wide and long formats</h2>
<p>There are two main conventions for dataframes in R, these are <em>wide</em> and <em>long</em> formats.</p>
<ul>
<li><p>A wide data format does not repeat values in the first column, data relating to the same “measured thing” are found in different columns</p></li>
<li><p>A long data format is where we have a <strong>different</strong> column for each type of thing we have measures in our data. Each <em>variable</em> has a unique column.</p></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/data_shapes.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>A visual representation of long and wide format data shapes</figcaption></figure>
</div>
</div>
</div>
<p>While neither <em>wide</em> or <em>long</em> data is more correct than the other, we will work with <em>long</em> data as it is clearer how many distinct types of variables there are in our data <em>and</em> the tools we will be using from the <code>tidyverse</code> are designed to work with <em>long</em> data.</p>
</section><section id="how-to-cite-r-and-rstudio" class="level2" data-number="A.25"><h2 data-number="A.25" class="anchored" data-anchor-id="how-to-cite-r-and-rstudio">
<span class="header-section-number">A.25</span> How to cite R and RStudio</h2>
<p>You may be some way off writing a scientific report where you have to cite and reference R, however, when the time comes it is important to do so to the people who built it (most of them for free!) credit. You should provide separate citations for R, RStudio, and the packages you use.</p>
<p>To get the citation for the version of R you are using, simply run the <code><a href="https://rdrr.io/r/utils/citation.html">citation()</a></code> function which will always provide you with he most recent citation.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1"></a><span class="fu">citation</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>To cite R in publications use:

  R Core Team (2024). _R: A Language and Environment for Statistical
  Computing_. R Foundation for Statistical Computing, Vienna, Austria.
  &lt;https://www.R-project.org/&gt;.

A BibTeX entry for LaTeX users is

  @Manual{,
    title = {R: A Language and Environment for Statistical Computing},
    author = {{R Core Team}},
    organization = {R Foundation for Statistical Computing},
    address = {Vienna, Austria},
    year = {2024},
    url = {https://www.R-project.org/},
  }

We have invested a lot of time and effort in creating R, please cite it
when using it for data analysis. See also 'citation("pkgname")' for
citing R packages.</code></pre>
</div>
</div>
<p>To generate the citation for any packages you are using, you can also use the <code><a href="https://rdrr.io/r/utils/citation.html">citation()</a></code> function with the name of the package you wish to cite.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1"></a><span class="fu">citation</span>(<span class="st">"tidyverse"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>To cite package 'tidyverse' in publications use:

  Wickham H, Averick M, Bryan J, Chang W, McGowan LD, François R,
  Grolemund G, Hayes A, Henry L, Hester J, Kuhn M, Pedersen TL, Miller
  E, Bache SM, Müller K, Ooms J, Robinson D, Seidel DP, Spinu V,
  Takahashi K, Vaughan D, Wilke C, Woo K, Yutani H (2019). "Welcome to
  the tidyverse." _Journal of Open Source Software_, *4*(43), 1686.
  doi:10.21105/joss.01686 &lt;https://doi.org/10.21105/joss.01686&gt;.

A BibTeX entry for LaTeX users is

  @Article{,
    title = {Welcome to the {tidyverse}},
    author = {Hadley Wickham and Mara Averick and Jennifer Bryan and Winston Chang and Lucy D'Agostino McGowan and Romain François and Garrett Grolemund and Alex Hayes and Lionel Henry and Jim Hester and Max Kuhn and Thomas Lin Pedersen and Evan Miller and Stephan Milton Bache and Kirill Müller and Jeroen Ooms and David Robinson and Dana Paige Seidel and Vitalie Spinu and Kohske Takahashi and Davis Vaughan and Claus Wilke and Kara Woo and Hiroaki Yutani},
    year = {2019},
    journal = {Journal of Open Source Software},
    volume = {4},
    number = {43},
    pages = {1686},
    doi = {10.21105/joss.01686},
  }</code></pre>
</div>
</div>
<p>To generate the citation for the version of RStudio you are using, you can use the <code>RStudio.Version()</code> function:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1"></a><span class="fu">RStudio.Version</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Finally, here’s an example of how that might look in the write-up of your method section:</p>
<blockquote class="blockquote">
<p>Analysis was conducted using R ver 4.0.0 (R Core Team, 2020), RStudio (Rstudio Team, 2020), and the tidyverse range of packages (Wickham, 2017).</p>
</blockquote>
<p>As noted, you may not have to do this for a while, but come back to this when you do as it’s important to give the open-source community credit for their work.</p>
</section><section id="help-and-additional-resources" class="level2" data-number="A.26"><h2 data-number="A.26" class="anchored" data-anchor-id="help-and-additional-resources">
<span class="header-section-number">A.26</span> Help and additional resources</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/kitteh.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>The truth about programming</figcaption></figure>
</div>
</div>
</div>
<p>Getting good at programming really means getting good trying stuff out, searching for help online, and finding examples of code to copy. If you are having difficulty with any of the exercises contained in this book then you can ask for help on Teams, however, learning to problem-solve effectively is a key skill that you need to develop throughout this course.</p>
<ul>
<li><p>Use the help documentation. If you’re struggling to understand how a function works, remember the <code>?function</code> and <code><a href="https://rdrr.io/r/utils/help.html">help()</a></code> command.</p></li>
<li><p>If you get an error message, copy and paste it in to Google - it’s very likely someone else has had the same problem.</p></li>
<li><p>If you are struggling to produce a particular output or process - try organising your google searches to include key terms such as “in R” or “tidyverse”. - e.g.&nbsp;<em>“how to change character strings into NA values with tidyverse”</em></p></li>
<li><p>The official <a href="https://posit.co/resources/cheatsheets/">Cheatsheets</a> are a great resource to keep bookmarked.</p></li>
<li><p><strong>Remember to ask for help</strong></p></li>
<li>
<p>In addition to these course materials there are a number of excellent resources for learning R:</p>
<ul>
<li><a href="https://stackoverflow.com/">StackOverflow</a></li>
<li><a href="https://r4ds.had.co.nz/">R for Data Science</a></li>
<li>Search or use the <a href="https://twitter.com/search?f=tweets&amp;q=%23rstats&amp;src=typd">#rstats</a> hashtag on Twitter</li>
</ul>
</li>
</ul></section><section id="debugging-tips" class="level2" data-number="A.27"><h2 data-number="A.27" class="anchored" data-anchor-id="debugging-tips">
<span class="header-section-number">A.27</span> Debugging tips</h2>
<p>A large part of coding is trying to figure why your code doesn’t work and this is true whether you are a novice or an expert. As you progress through this course you should keep a record of mistakes you make and how you fixed them. In each chapter we will provide a number of common mistakes to look out for but you will undoubtedly make (and fix!) new mistakes yourself.</p>
<section id="prevent-errors" class="level3" data-number="A.27.1"><h3 data-number="A.27.1" class="anchored" data-anchor-id="prevent-errors">
<span class="header-section-number">A.27.1</span> Prevent errors</h3>
<p><strong>Read console outputs as you go</strong></p>
<p><strong>Check that functions are producing the output you expect</strong></p>
<p><strong>Build complex code in simple stages</strong></p>
</section><section id="fix-errors" class="level3" data-number="A.27.2"><h3 data-number="A.27.2" class="anchored" data-anchor-id="fix-errors">
<span class="header-section-number">A.27.2</span> Fix errors</h3>
<ul>
<li><p>Have you loaded the correct packages for the functions you are trying to use? One very common mistake is to write the code to load the package, e.g., <code><a href="https://tidyverse.tidyverse.org">library(tidyverse)</a></code> but then forget to run it.</p></li>
<li><p>Have you made a typo? Remember <code>data</code> is not the same as <code>DATA</code> and <code>t.test</code> is not the same as <code>t_test</code>.</p></li>
<li><p>Is there a package conflict? Have you tried specifying the package and function with <code>package::function</code>?</p></li>
<li><p>Is it definitely an error? Not all red text in R means an error - sometimes it is just giving you a message with information.</p></li>
</ul></section></section><section id="activity-7-test-yourself" class="level2" data-number="A.28"><h2 data-number="A.28" class="anchored" data-anchor-id="activity-7-test-yourself">
<span class="header-section-number">A.28</span> Activity 7: Test yourself</h2>
<p><strong>Question 1.</strong> Why should you never include the code <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> in your analysis scripts? <select class="webex-select"><option value="blank"></option>
<option value="">You should use library() instead</option>
<option value="">Packages are already part of Base R</option>
<option value="answer">You (or someone else) may accidentally install a package update that stops your code working</option>
<option value="">You already have the latest version of the package</option></select></p>
<div class="webex-solution">
<button>
Explain This Answer
</button>
<div class="cell" data-layout-align="center">
<p>Remember, when you run <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> it will always install the latest version of the package and it will overwrite any older versions of the package you may have installed.</p>
</div>
</div>
<p><br><strong>Question 2.</strong> What will the following code produce?</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1"></a><span class="fu">rnorm</span>(<span class="dv">6</span>, <span class="dv">50</span>, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><select class="webex-select"><option value="blank"></option>
<option value="">A dataset with 10 numbers that has a mean of 6 and an SD of 50</option>
<option value="answer">A dataset with 6 numbers that has a mean of 50 and an SD of 10</option>
<option value="">A dataset with 50 numbers that has a mean of 10 and an SD of 6</option>
<option value="">A dataset with 50 numbers that has a mean of 10 and an SD of 6</option></select></p>
<div class="webex-solution">
<button>
Explain This Answer
</button>
<div class="cell" data-layout-align="center">
<p>The default form for <code><a href="https://rdrr.io/r/stats/Normal.html">rnorm()</a></code> is <code>rnorm(n, mean, sd)</code>. If you need help remembering what each argument of a function does, look up the help documentation by running <code><a href="https://rdrr.io/r/stats/Normal.html">?rnorm</a></code></p>
</div>
</div>
<p><br><strong>Question 3.</strong> If you have two packages that have functions with the same name and you want to specify exactly which package to use, what code would you use?</p>
<p><select class="webex-select"><option value="blank"></option>
<option value="answer">package::function</option>
<option value="">function::package</option>
<option value="">library(package)</option>
<option value="">install.packages(package)</option></select></p>
<div class="webex-solution">
<button>
Explain This Answer
</button>
<div class="cell" data-layout-align="center">
<p>You should use the form <code>package::function</code>, for example <code><a href="https://dplyr.tidyverse.org/reference/select.html">dplyr::select</a></code>. Remember that when you first load your packages R will warn you if any functions have the same name - remember to look out for this!</p>
</div>
</div>
<p><strong>Question 4.</strong> Which of the following is most likely to be an argument? <select class="webex-select"><option value="blank"></option>
<option value="">&lt;-</option>
<option value="">read_csv()</option>
<option value="answer">35</option></select></p>
<p><strong>Question 5.</strong> An easy way to spot functions is to look for <select class="webex-select"><option value="blank"></option>
<option value="">numbers</option>
<option value="">computers</option>
<option value="answer">brackets</option></select>.</p>
<p><strong>Question 6.</strong> The job of <code>&lt;-</code> is to send the output from the function to a/an <select class="webex-select"><option value="blank"></option>
<option value="">argument</option>
<option value="answer">object</option>
<option value="">assignment</option></select>.</p>
<p><strong>Question 7.</strong> A vector must always contain elements of the same data type (e.g logical, character, numeric) <select class="webex-select"><option value="blank"></option>
<option value="answer">TRUE</option>
<option value="">FALSE</option></select>.</p>
<p><strong>Question 8.</strong> A dataframe/tibble must always contain elements of the same data t</p>


</section>
</div>
</section></section></main><!-- /main --><script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Show Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);
  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Show Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  update_total_correct();
}

</script><script>
// open rdrr links externally ----

var exlinks = document.querySelectorAll("a[href^='https://rdrr.io']");
var exlink_func = function(){
  window.open(this.href);
  return false;
};
for (var i = 0; i < exlinks.length; i++) {
    exlinks[i].addEventListener('click', exlink_func, false);
}

// visible second sidebar in mobile ----

function move_sidebar() {
  var toc = document.getElementById("TOC");
  var small_sidebar = document.querySelector("#quarto-sidebar .sidebar-menu-container");
  var right_sidebar = document.getElementById("quarto-margin-sidebar");

  if (window.innerWidth < 768) {
    small_sidebar.append(toc);
  } else {
    right_sidebar.append(toc);
  }
}
move_sidebar();
window.onresize = move_sidebar;
</script><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./11-regression.html" class="pagination-link" aria-label="Regression">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Regression</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./projects.html" class="pagination-link" aria-label="Project workflows">
        <span class="nav-page-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Project workflows</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>CC-BY (2024) Philip Leftwich</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>


</body></html>